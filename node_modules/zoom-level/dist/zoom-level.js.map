{"version":3,"sources":["./dist/zoom-level.js"],"names":["exports","zoomLevelDetector","matchMedia","currentLevel","minimalLevel","stepDivisor","matches","calculatePageZoomLevel","win","level","mm","startLevel","minLevel","i","zoomLevel","global","window","devicePixelRatio","frames","document","screen","deviceXDPI","systemXDPI","default","elementZoomLevel","element","elementStyles","getComputedStyle","parseFloat","zoom"],"mappings":"AAAA,aAEsBA,QAEtB,IAAIC,EAAoB,SAAUC,EAAYC,EAAcC,EAAcC,GACtE,KAAOF,GAAgBC,IAClBF,EAAW,oBAAsBC,EAAeE,EAAc,SAASC,SACxEH,IAEJ,OAAOA,GAEPI,EAAyB,SAAUC,GAMnC,IALA,IAIIC,EAJAC,EAAKF,EAAIN,WACTS,EAAa,GACbC,EAAW,GACXP,EAAc,EAETQ,EAAI,EAAGA,EAAI,EAAGA,IAEnBF,GADAF,EAAQ,GAAKR,EAAkBS,EAAIC,EAAYC,EAAUP,IACpC,EACrBO,EAAWH,EACXJ,GAAe,GAEnB,OAAOI,EAAQJ,GAEnB,SAASS,EAAUN,GAEf,KADAA,EAAMA,GAAOO,OAAOC,QAEhB,OAAO,EAEX,QAAoC,IAAzBR,EAAIS,iBACX,OAAOT,EAAIS,iBAEf,IAAIC,EAASV,EAAIW,SAASD,OAC1B,YAAsB,IAAXA,OACgC,IAA5BA,EAAOD,iBACPC,EAAOD,iBAEXC,EAAOE,OAAOC,WAAaH,EAAOE,OAAOE,gBAEtB,IAAnBd,EAAIN,WACJK,EAAuBC,GAE3B,EAQXR,QAAQuB,QAAUT,EAClBd,QAAQwB,iBAPR,SAA0BC,EAASC,EAAelB,GAG9C,OAFAkB,EAAgBA,GAAiBC,iBAAiBF,GAE3CX,EAAUN,IAAQoB,WAAWF,EAAcG,OAAS,IAK/D7B,QAAQc,UAAYA","sourcesContent":["'use strict';\n\nObject.defineProperty(exports, '__esModule', { value: true });\n\nvar zoomLevelDetector = function (matchMedia, currentLevel, minimalLevel, stepDivisor) {\r\n    while (currentLevel >= minimalLevel &&\r\n        !matchMedia(\"(min-resolution: \" + currentLevel / stepDivisor + \"dppx)\").matches) {\r\n        currentLevel--;\r\n    }\r\n    return currentLevel;\r\n};\r\nvar calculatePageZoomLevel = function (win) {\r\n    var mm = win.matchMedia;\r\n    var startLevel = 10;\r\n    var minLevel = 0.1;\r\n    var stepDivisor = 1;\r\n    var level;\r\n    for (var i = 0; i < 4; i++) {\r\n        level = 10 * zoomLevelDetector(mm, startLevel, minLevel, stepDivisor);\r\n        startLevel = level + 9;\r\n        minLevel = level;\r\n        stepDivisor *= 10;\r\n    }\r\n    return level / stepDivisor;\r\n};\r\nfunction zoomLevel(win) {\r\n    win = win || global.window;\r\n    if (!win) {\r\n        return 1;\r\n    }\r\n    if (typeof win.devicePixelRatio !== \"undefined\") {\r\n        return win.devicePixelRatio;\r\n    }\r\n    var frames = win.document.frames;\r\n    if (typeof frames !== \"undefined\") {\r\n        if (typeof frames.devicePixelRatio !== \"undefined\") {\r\n            return frames.devicePixelRatio;\r\n        }\r\n        return frames.screen.deviceXDPI / frames.screen.systemXDPI;\r\n    }\r\n    if (typeof win.matchMedia !== \"undefined\") {\r\n        return calculatePageZoomLevel(win);\r\n    }\r\n    return 1;\r\n}\r\nfunction elementZoomLevel(element, elementStyles, win) {\r\n    elementStyles = elementStyles || getComputedStyle(element);\r\n    // @ts-ignore\r\n    return zoomLevel(win) * (parseFloat(elementStyles.zoom) || 1);\r\n}\n\nexports.default = zoomLevel;\nexports.elementZoomLevel = elementZoomLevel;\nexports.zoomLevel = zoomLevel;\n//# sourceMappingURL=zoom-level.js.map\n"]}